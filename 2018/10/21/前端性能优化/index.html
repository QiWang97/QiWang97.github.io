<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="前端,性能优化,">










<meta name="description" content="最近看的一篇前端性能优化的推文，那就顺便补充一下自己搜集的前端优化的知识吧">
<meta name="keywords" content="前端,性能优化">
<meta property="og:type" content="article">
<meta property="og:title" content="前端性能优化">
<meta property="og:url" content="https://qiwang97.github.io/2018/10/21/前端性能优化/index.html">
<meta property="og:site_name" content="小柒的博客">
<meta property="og:description" content="最近看的一篇前端性能优化的推文，那就顺便补充一下自己搜集的前端优化的知识吧">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://qiwang97.github.io/2018/10/21/前端性能优化/041436b6f1575010917b7bb6530cf507">
<meta property="og:image" content="https://qiwang97.github.io/2018/10/21/前端性能优化/65cb9084be1f3bc63562783920428926">
<meta property="og:updated_time" content="2019-04-15T21:13:59.266Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端性能优化">
<meta name="twitter:description" content="最近看的一篇前端性能优化的推文，那就顺便补充一下自己搜集的前端优化的知识吧">
<meta name="twitter:image" content="https://qiwang97.github.io/2018/10/21/前端性能优化/041436b6f1575010917b7bb6530cf507">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Xiao Qi'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://qiwang97.github.io/2018/10/21/前端性能优化/">





  <title>前端性能优化 | 小柒的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/QiWang97" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小柒的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-主页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            主页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-分类">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-站点">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            站点
          </a>
        </li>
      
        
        <li class="menu-item menu-item-baidusitemap">
          <a href="/baidusitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            baidusitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://qiwang97.github.io/2018/10/21/前端性能优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiao Qi">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/album.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小柒的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">前端性能优化</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-21T16:09:59+08:00">
                2018-10-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  6.3k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  22 分钟
                </span>
              
            </div>
          

          
              <div class="post-description">
                  最近看的一篇前端性能优化的推文，那就顺便补充一下自己搜集的前端优化的知识吧
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="前端优化技巧"><a href="#前端优化技巧" class="headerlink" title="前端优化技巧"></a>前端优化技巧</h2><hr>
<h3 id="页面级优化"><a href="#页面级优化" class="headerlink" title="页面级优化"></a>页面级优化</h3><hr>
<h4 id="减少-HTTP-请求数"><a href="#减少-HTTP-请求数" class="headerlink" title="减少 HTTP 请求数"></a><a href="https://www.cnblogs.com/coober/p/8078847.html" target="_blank" rel="noopener">减少 HTTP 请求数</a></h4><p>解释：每个请求都是有成本的，既包含时间成本也包含资源成本。一个完整的请求都需要经过 DNS寻址、与服务器建立连接、发送数据、等待服务器响应、接收数据这样一个 “漫长” 而复杂的过程。时间成本就是用户需要看到或者 “感受” 到这个资源是必须要等待这个过程结束的，资源上由于每个请求都需要携带数据，因此每个请求都需要占用带宽。另外，由于浏览器进行并发请求的请求数是有上限的 (具体参见此处 )，因此请求数多了以后，浏览器需要分批进行请求，因此会增加用户的等待时间，会给用户造成站点速度慢这样一个印象，即使可能用户能看到的第一屏的资源都已经请求完了，但是浏览器的进度条会一直存在。</p>
<h5 id="从设计实现层面简化页面（如百度首页）"><a href="#从设计实现层面简化页面（如百度首页）" class="headerlink" title="从设计实现层面简化页面（如百度首页）"></a>从设计实现层面简化页面（如百度首页）</h5><h5 id="合理设置-HTTP缓存"><a href="#合理设置-HTTP缓存" class="headerlink" title="合理设置 HTTP缓存"></a>合理设置 HTTP缓存</h5><p> 缓存的静态资源，在页面刷新（第二次浏览）时会减少请求。这里要注意浏览器对于 <a href="https://mocheng.wordpress.com/2007/11/30/browser-f5-vs-ctrlf5/" target="_blank" rel="noopener">F5 VS CTRL+F5</a> 的刷新时不同的。很少变化的图片资源可以直接通过 HTTP Header中的Expires设置一个很长的过期头 ;变化不频繁而又可能会变的资源可以使用 Last-Modifed来做请求验证。尽可能的让资源能够在缓存中待得更久。关于 HTTP缓存的具体设置和原理可以参考下列文章：<br><a href="https://link.zhihu.com/?target=http%3A//www.w3.org/Protocols/rfc2616/rfc2616-sec13.html%2520/t%2520_blank" target="_blank" rel="noopener">HTTP1.1协议中关于缓存策略的描述</a><br><a href="https://link.zhihu.com/?target=http%3A//msdn.microsoft.com/en-us/library/bb250442%28VS.85%29.aspx%2520/t%2520_blank" target="_blank" rel="noopener">Fiddler HTTP Performance中关于缓存的介绍</a></p>
<h5 id="减少不必要的-HTTP跳转"><a href="#减少不必要的-HTTP跳转" class="headerlink" title="减少不必要的 HTTP跳转"></a>减少不必要的 HTTP跳转</h5><p>对于以目录形式访问的 HTTP链接，很多人都会忽略链接最后是否带 ’/‘，假如你的服务器对此是区别对待的话，那么你也需要注意，这其中很可能隐藏了 301跳转，增加了多余请求。以无 ’/‘结尾的方式访问，服务器有一次跳转。</p>
<h5 id="避免重复的资源请求"><a href="#避免重复的资源请求" class="headerlink" title="避免重复的资源请求"></a>避免重复的资源请求</h5><p>注意合并模块</p>
<h5 id="资源合并与压缩"><a href="#资源合并与压缩" class="headerlink" title="资源合并与压缩"></a>资源合并与压缩</h5><p>如果可以的话，尽可能的将外部的脚本、样式进行合并，多个合为一个。另外， CSS、 Javascript、Image 都可以用相应的工具进行压缩，压缩后往往能省下不少空间。</p>
<h5 id="CSS-Sprites"><a href="#CSS-Sprites" class="headerlink" title="CSS Sprites"></a>CSS Sprites</h5><p>合并 图片请求</p>
<h5 id="字体图标"><a href="#字体图标" class="headerlink" title="字体图标"></a>字体图标</h5><h5 id="将-CSS放在-HEAD中"><a href="#将-CSS放在-HEAD中" class="headerlink" title="将 CSS放在 HEAD中"></a>将 CSS放在 HEAD中</h5><p>如果将 CSS放在其他地方比如 BODY中，则浏览器有可能还未下载和解析到 CSS就已经开始渲染页面了，这就导致页面由无 CSS状态跳转到 CSS状态，用户体验比较糟糕。</p>
<h5 id="Inline-Images"><a href="#Inline-Images" class="headerlink" title="Inline Images"></a>Inline Images</h5><p>使用 data: <a href="https://link.zhihu.com/?target=http%3A//tools.ietf.org/html/rfc2397%2520/t%2520_blank" target="_blank" rel="noopener">URL scheme</a>的方式将图片嵌入到页面或 CSS中</p>
<h5 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h5><p>实际是没有减少总的请求数，只是延后的进入页面的加载请求。</p>
<h5 id="将外部脚本置底"><a href="#将外部脚本置底" class="headerlink" title="将外部脚本置底"></a>将外部脚本置底</h5><p> 在脚本加载完成之前，它后面的图片、样式以及其他脚本都处于阻塞状态，直到脚本加载完成后才会开始加载</p>
<h5 id="脚本懒加载"><a href="#脚本懒加载" class="headerlink" title="脚本懒加载"></a>脚本懒加载</h5><p>最初只加载核心模块，其他模块可以等到需要使用的时候才加载。可以专门定制一个专用的 mini版框架</p>
<h5 id="异步请求-Callback"><a href="#异步请求-Callback" class="headerlink" title="异步请求 Callback"></a>异步请求 Callback</h5><p>直接在页面上写  \&lt;script>  对页面的性能也是有影响的，即增加了页面首次加载的负担，推迟了 DOMLoaded和window.onload 事件的触发时机。如果时效性允许的话，可以考虑在 DOMLoaded事件触发的时候加载，或者使用 setTimeout方式来灵活的控制加载的时机。</p>
<h4 id="使用-CDN"><a href="#使用-CDN" class="headerlink" title="使用 CDN"></a><a href="https://www.cnblogs.com/MarcoHan/p/5295398.html" target="_blank" rel="noopener">使用 CDN</a></h4><p>如果应用程序web服务器离用户更近，那么一个HTTP请求的响应时间将缩短。另一方面，如果组件web服务器离用户更近，则多个HTTP请求的响应时间将缩短。</p>
<p>CDN（内容发布网络）是一组分布在多个不同地理位置的Web服务器，用于更加有效地向用户发布内容。在优化性能时，向特定用户发布内容的服务器的选择基于对网络慕课拥堵的测量。例如，CDN可能选择网络阶跃数最小的服务器，或者具有最短响应时间的服务器。</p>
<p>CDN还可以进行数据备份、扩展存储能力，进行缓存，同时有助于缓和Web流量峰值压力。</p>
<p>CDN的缺点：</p>
<p>1、响应时间可能会受到其他网站流量的影响。CDN服务提供商在其所有客户之间共享Web服务器组。</p>
<p>2、如果CDN服务质量下降了，那么你的工作质量也将下降</p>
<p>3、无法直接控制组件服务器</p>
<h4 id="压缩组件"><a href="#压缩组件" class="headerlink" title="压缩组件"></a>压缩组件</h4><p>从HTTP1.1开始，Web客户端可以通过HTTP请求中的Accept-Encoding头来表示对压缩的支持</p>
<p>Accept-Encoding: gzip,deflate</p>
<p>如果Web服务器看到请求中有这个头，就会使用客户端列出来的方法中的一种来进行压缩。Web服务器通过响应中的Content-Encoding来通知 Web客户端。</p>
<p>Content-Encoding: gzip</p>
<h4 id="减少DNS查找"><a href="#减少DNS查找" class="headerlink" title="减少DNS查找"></a><a href="https://www.cnblogs.com/MarcoHan/p/5295398.html" target="_blank" rel="noopener">减少DNS查找</a></h4><p>DNS也是开销，通常浏览器查找一个给定域名的IP地址要花费20~120毫秒，在完成域名解析之前，浏览器不能从服务器加载到任何东西。那么如何减少域名解析时间，加快页面加载速度呢？</p>
<p>当客户端DNS缓存（浏览器和操作系统）缓存为空时，DNS查找的数量与要加载的Web页面中唯一主机名的数量相同，包括页面URL、脚本、样式表、图片、Flash对象等的主机名。减少主机名的 数量就可以减少DNS查找的数量。</p>
<p>减少唯一主机名的数量会潜在减少页面中并行下载的数量（HTTP 1.1规范建议从每个主机名并行下载两个组件，但实际上可以多个），这样减少主机名和并行下载的方案会产生矛盾，需要大家自己权衡。建议将组件放到至少两个但不多于4个主机名下，减少DNS查找的同时也允许高度并行下载。</p>
<h3 id="代码级优化"><a href="#代码级优化" class="headerlink" title="代码级优化"></a>代码级优化</h3><hr>
<h4 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h4><hr>
<h5 id="减少回流和重绘"><a href="#减少回流和重绘" class="headerlink" title="减少回流和重绘"></a>减少回流和重绘</h5><ul>
<li>避免在document上直接进行频繁的DOM操作</li>
<li>使用classname代替大量的内联样式修改</li>
<li>对于复杂的UI元素，设置position为absolute或fixed</li>
<li>尽量使用css动画</li>
<li>使用requestAnimationFrame代替setInterval操作</li>
<li>适当使用canvas</li>
<li>尽量减少css表达式的使用</li>
<li>使用事件代理</li>
</ul>
<h5 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h5><p>DOM操作应该是脚本中最耗性能的一类操作，例如增加、修改、删除 DOM元素或者对 DOM集合进行操作。如果脚本中包含了大量的 DOM操作则需要注意以下几点：<br>　　a. HTML Collection（HTML收集器，返回的是一个数组内容信息）<br>　　在脚本中 document.images、document.forms 、getElementsByTagName()返回的都是 HTMLCollection类型的集合，在平时使用的时候大多将它作为数组来使用，因为它有 length属性，也可以使用索引访问每一个元素。不过在访问性能上则比数组要差很多，原因是这个集合并不是一个静态的结果，它表示的仅仅是一个特定的查询，每次访问该集合时都会重新执行这个查询从而更新查询结果。所谓的 “访问集合” 包括读取集合的 length属性、访问集合中的元素。<br>　　因此，当你需要遍历 HTML Collection的时候，尽量将它转为数组后再访问，以提高性能。即使不转换为数组，也请尽可能少的访问它，例如在遍历的时候可以将 length属性、成员保存到局部变量后再使用局部变量。<br>　　b. Reflow &amp; Repaint<br>　　除了上面一点之外， DOM操作还需要考虑浏览器的 Reflow和Repaint ，因为这些都是需要消耗资源的，具体的可以参加以下文章：<br><a href="https://link.zhihu.com/?target=http%3A//varnow.org/%3Fp%3D232%2520%255Ct%2520_blank" target="_blank" rel="noopener">如何减少浏览器的repaint和reflow?</a><br><a href="https://link.zhihu.com/?target=http%3A//blog.dynatrace.com/2009/12/12/understanding-internet-explorer-rendering-behaviour/%2520/t%2520_blank" target="_blank" rel="noopener">Understanding Internet Explorer Rendering Behaviour</a><br><a href="https://link.zhihu.com/?target=http%3A//www.mozilla.org/newlayout/doc/reflow.html%2520/t%2520_blank" target="_blank" rel="noopener">Notes on HTML Reflow</a></p>
<h5 id="慎用-with"><a href="#慎用-with" class="headerlink" title="慎用 with"></a>慎用 with</h5><p>with(obj){ p = 1}; 代码块的行为实际上是修改了代码块中的 <a href="https://link.zhihu.com/?target=http%3A//varnow.org/%3Fp%3D171%2520%255Ct%2520_blank" target="_blank" rel="noopener">执行环境</a> ，将obj放在了其作用域链的最前端，在 with代码块中访问非局部变量是都是先从 obj上开始查找，如果没有再依次按作用域链向上查找，因此使用 with相当于增加了作用域链长度。而每次查找作用域链都是要消耗时间的，过长的作用域链会导致查找性能下降。<br>　　因此，除非你能肯定在 with代码中只访问 obj中的属性，否则慎用 with，替代的可以使用局部变量缓存需要访问的属性。</p>
<h5 id="避免使用-eval和-Function"><a href="#避免使用-eval和-Function" class="headerlink" title="避免使用 eval和 Function"></a>避免使用 eval和 Function</h5><p>　　每次 eval 或 Function 构造函数作用于字符串表示的源代码时，脚本引擎都需要将源代码转换成可执行代码。这是很消耗资源的操作 —— 通常比简单的函数调用慢 100倍以上。<br>　　eval 函数效率特别低，由于事先无法知晓传给 eval 的字符串中的内容，eval在其上下文中解释要处理的代码，也就是说编译器无法优化上下文，因此只能有浏览器在运行时解释代码。这对性能影响很大。<br>　　Function 构造函数比 eval略好，因为使用此代码不会影响周围代码 ;但其速度仍很慢。<br>　　此外，使用 eval和 Function也不利于Javascript 压缩工具执行压缩。</p>
<h5 id="减少作用域链查找"><a href="#减少作用域链查找" class="headerlink" title="减少作用域链查找"></a>减少作用域链查找</h5><p>　　前文谈到了作用域链查找问题，这一点在循环中是尤其需要注意的问题。如果在循环中需要访问非本作用域下的变量时请在遍历之前用局部变量缓存该变量，并在遍历结束后再重写那个变量，这一点对全局变量尤其重要，因为全局变量处于作用域链的最顶端，访问时的查找次数是最多的。</p>
<p>此外，要减少作用域链查找还应该减少闭包的使用。</p>
<p>　　低效率的写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 全局变量 </span><br><span class="line">var globalVar = 1; </span><br><span class="line">function myCallback(info)&#123; </span><br><span class="line">  for( var i = 100000; i--;)&#123; </span><br><span class="line">  	//每次访问 globalVar 都需要查找到作用域链最顶端，本例中需要访问 100000 次 </span><br><span class="line"> 	 	globalVar += i; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>　　更高效的写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 全局变量 </span><br><span class="line">var globalVar = 1; </span><br><span class="line">function myCallback(info)&#123; </span><br><span class="line">	//局部变量缓存全局变量 </span><br><span class="line">	var localVar = globalVar; </span><br><span class="line">	for( var i = 100000; i--;)&#123; </span><br><span class="line">		//访问局部变量是最快的 </span><br><span class="line">		localVar += i; </span><br><span class="line">	&#125; </span><br><span class="line">	//本例中只需要访问 2次全局变量在函数中只需要将 globalVar中内容的值赋给localVar 中</span><br><span class="line">	globalVar = localVar; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="数据访问"><a href="#数据访问" class="headerlink" title="数据访问"></a>数据访问</h5><p>　　Javascript中的数据访问包括直接量 (字符串、正则表达式 )、变量、对象属性以及数组，其中对直接量和局部变量的访问是最快的，对对象属性以及数组的访问需要更大的开销。当出现以下情况时，建议将数据放入局部变量：<br>　　a. 对任何对象属性的访问超过 1次<br>　　b. 对任何数组成员的访问次数超过 1次<br>　　另外，还应当尽可能的减少对对象以及数组深度查找。</p>
<h5 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h5><p>　　在 Javascript中使用”+” 号来拼接字符串效率是比较低的，因为每次运行都会开辟新的内存并生成新的字符串变量，然后将拼接结果赋值给新变量。与之相比更为高效的做法是使用数组的 join方法，即将需要拼接的字符串放在数组中最后调用其 join方法得到结果。不过由于使用数组也有一定的开销，因此当需要拼接的字符串较多的时候可以考虑用此方法。</p>
<h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><hr>
<h5 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h5><ul>
<li>避免图片或者frame使用空src</li>
<li>在css属性为0时，去掉单位</li>
<li>禁止图像缩放</li>
<li>正确的css前缀的使用</li>
<li>移除空的css规则</li>
<li>对于css中可继承的属性，如font-size，尽量使用继承，少一点设置</li>
<li>缩短css选择器，多使用伪元素等帮助定位</li>
</ul>
<h5 id="css-选择符"><a href="#css-选择符" class="headerlink" title="css 选择符"></a>css 选择符</h5><p>在大多数人的观念中，都觉得浏览器对 CSS选择符的解析式从左往右进行的，例如<code>#toc A { color: #444; }</code>这样一个选择符，如果是从右往左解析则效率会很高，因为第一个 ID选择基本上就把查找的范围限定了，但实际上浏览器对选择符的解析是从右往左进行的。如上面的选择符，浏览器必须遍历查找每一个 A标签的祖先节点，效率并不像之前想象的那样高。</p>
<h5 id="将样式表放在头部"><a href="#将样式表放在头部" class="headerlink" title="将样式表放在头部"></a>将样式表放在头部</h5><p>将样式表放在文档底部会阻止浏览器中的内容逐步出现。为了避免当样式变化时重绘页面元素，浏览器会阻塞内容逐步呈现，造成“白屏”。这源自浏览器的行为：如果样式表仍在加载，构建呈现树就是一种浪费，因为所有样式表加载解析完毕之前务虚会之任何东西</p>
<h5 id="避免CSS表达式"><a href="#避免CSS表达式" class="headerlink" title="避免CSS表达式"></a>避免CSS表达式</h5><p>CSS表达式是动态设置CSS属性的一种强大并且危险的方式，它受到了IE5以及之后版本、IE8之前版本的支持。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">p &#123;</span><br><span class="line">    width: expression(func(),document.body.clientWidth &gt; 400 ? &quot;400px&quot; : &quot;auto&quot;);</span><br><span class="line">    height: 80px;</span><br><span class="line">    border: 1px solid #f00;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var n = 0;</span><br><span class="line">    function func() &#123;</span><br><span class="line">        n++;</span><br><span class="line">        // alert();</span><br><span class="line">        console.log(n);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>鼠标移动了几次，函数的运行次数轻而易举的达到了几千次，危险性显而易见。用js事件处理机制来动态改变元素的样式，使函数运行次数在可控范围之内。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">p &#123;</span><br><span class="line">    width: expression(func(this));</span><br><span class="line">    height: 80px;</span><br><span class="line">    border: 1px solid #f00;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var n = 0;</span><br><span class="line">    function func(elem) &#123;</span><br><span class="line">        n++;</span><br><span class="line">        elem.style.width = document.body.clientWidth &gt; 400 ? &apos;400px&apos; : &quot;auto&quot;;</span><br><span class="line">        console.log(n);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><hr>
<h4 id="资源压缩"><a href="#资源压缩" class="headerlink" title="资源压缩"></a>资源压缩</h4><hr>
<h5 id="精简"><a href="#精简" class="headerlink" title="精简"></a>精简</h5><p>js 代码精简，可以会移除不必要的空白字符（空格，换行、制表符）；</p>
<p>css 代码精简，可以合并相同的类、移除不使用的类、使用缩写，其实样式最后一行的’；’也是可以省略的。</p>
<h5 id="混淆"><a href="#混淆" class="headerlink" title="混淆"></a>混淆</h5><p>js 会移除注释和空白符，同时它还会改写代码。在混淆的时候，函数和变量名将会被转换成更短的字符串</p>
<h5 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a><a href="https://juejin.im/post/59e1bbc9f265da430f311fb1" target="_blank" rel="noopener">图片压缩</a></h5><p>gzip压缩主要是针对html文件来说的，它可以将html中重复的部分进行一个打包，多次复用的过程。js的混淆可以有简单的压缩(将空白字符删除)、丑化(丑化的方法，就是将一些变量缩小)、或者可以使用php对js进行混淆加密。css压缩，就是进行简单的压缩。图片的压缩，主要也是减小体积，在不影响观感的前提下，尽量压缩图片，使用png等图片格式，减少矢量图、高清图等的使用。这样子的做法不仅可以加快网页显示，也能减少流量的损耗。</p>
<h3 id="移动端优化"><a href="#移动端优化" class="headerlink" title="移动端优化"></a>移动端优化</h3><hr>
<h4 id="一图了解"><a href="#一图了解" class="headerlink" title="一图了解"></a>一图了解</h4><p><img src="/2018/10/21/前端性能优化/041436b6f1575010917b7bb6530cf507" alt="移动端优化"></p>
<h4 id="其他优化"><a href="#其他优化" class="headerlink" title="其他优化"></a>其他优化</h4><ul>
<li>长列表滚动优化<ul>
<li>OS尽量使用局部滚动，android尽量使用全局滚动。同时，需要给body添加上-webkit-overflow-scrolling: touch来优化移动段的滚动</li>
</ul>
</li>
<li>函数防抖和函数节流</li>
<li>使用touchstart、touchend代替click。click在移动端会有300ms延时</li>
<li>HTML的viewport设置。可以防止页面的缩放，来优化性能。</li>
<li>开启GPU渲染加速</li>
</ul>
<h3 id="其他技巧"><a href="#其他技巧" class="headerlink" title="其他技巧"></a>其他技巧</h3><hr>
<h5 id="避免重定向"><a href="#避免重定向" class="headerlink" title="避免重定向"></a>避免重定向</h5><p>当页面发生了重定向，就会延迟整个HTML文档的传输。在HTML文档到达之前，页面中不会呈现任何东西，也没有任何组件会被下载。</p>
<p>对于ASP.NET webform开发来说，对于新手很容易犯一个错误，就是把页面的连接写成服务器控件后台代码里，例如用一个Button控件，在它的后台click事件中写上：Response.Redirect(“”)；然而这个Button的作用只是转移URL，这是非常低效的做法，因为点击Button后，先发送一个Post请求给服务器，服务器处理Response.Redirect(“”)后就发送一个302响应给浏览器，浏览器再根据响应的URL发送GET请求。正确的做法应该是在html页面直接使用a标签做链接，这样就避免了多余的post和重定向。</p>
<p><strong>1. 跟踪内部流量</strong></p>
<p>重定向经常用于跟踪用户流量的方向,当拥有一个门户主页的时候，同时想对用户离开主页后的流量进行跟踪，这时可以使用重定向。例如: 某网站主页新闻的链接地址<a href="http://a.com/r/news，点击该链接将产生301响应，其Location被设置为http://news.a.com。通过分析a.com的web服务器日志可以得知人们离开首页之后的去向。" target="_blank" rel="noopener">http://a.com/r/news，点击该链接将产生301响应，其Location被设置为http://news.a.com。通过分析a.com的web服务器日志可以得知人们离开首页之后的去向。</a></p>
<p>我们知道重定向是如何损伤性能的，为了实现更好的效率，可以使用Referer日志来跟踪内部流量去向。每个HTTP请求都有一个Referer表示原始请求页(除了从书签打开或直接键入URL等操作)，记录下每个请求的Referer，就避免了向用户发送重定向，从而改善了响应时间。</p>
<p><strong>2. 跟踪出站流量</strong></p>
<p>有时链接可能将用户带离你的网站，在这种情况下，使用Referer就不太现实了。</p>
<p>同样也可以使用重定向来解决跟踪出站流量问题。以百度搜索为例，百度通过将每个链接包装到一个302重定向来解决跟踪的问题，例如搜索关键字“前端性能优化”，搜索结果中的一个URL为<a href="https://www.baidu.com/link?url=pDjwTfa0IAf_FRBNlw1qLDtQ27YBujWp9jPN4q0QSJdNtGtDBK3ja3jyyN2CgxR5aTAywG4SI6V1NypkSyLISWjiFuFQDinhpVn4QE-uLGG&amp;wd=&amp;eqid=9c02bd21001c69170000000556ece297，即使搜索结果并没有变，但这个字符串是动态改变的，暂时还不知道这里起到怎样的作用" target="_blank" rel="noopener">https://www.baidu.com/link?url=pDjwTfa0IAf_FRBNlw1qLDtQ27YBujWp9jPN4q0QSJdNtGtDBK3ja3jyyN2CgxR5aTAywG4SI6V1NypkSyLISWjiFuFQDinhpVn4QE-uLGG&amp;wd=&amp;eqid=9c02bd21001c69170000000556ece297，即使搜索结果并没有变，但这个字符串是动态改变的，暂时还不知道这里起到怎样的作用</a></p>
<p>除了重定向外，我们还可以选择使用信标(beacon)——一个HTTP请求，其URL中包含有跟踪信息。跟踪信息可以从信标Web服务器的访问日记中提取出来，信标通常是一个1px*1px的透明图片，不过204响应更优秀，因为它更小，从来不被缓存，而且绝不会改变浏览器的状态。</p>
<h3 id="其他知识点"><a href="#其他知识点" class="headerlink" title="其他知识点"></a>其他知识点</h3><hr>
<h5 id="页面从发起请求到展示到用户大概流程"><a href="#页面从发起请求到展示到用户大概流程" class="headerlink" title="页面从发起请求到展示到用户大概流程"></a>页面从发起请求到展示到用户大概流程</h5><p>（地址栏输入网址然后回车）</p>
<p>域名解析 –&gt; 发起TCP的3次握手 –&gt; 建立TCP连接后发起http请求 –&gt; 服务器响应http请求，浏览器得到html代码 –&gt; 浏览器解析html代码，并请求html代码中的资源（如js、css、图片等） –&gt; 浏览器对页面进行渲染呈现给用户</p>
<p>1、DNS 查询</p>
<p>2、发送 HTTP 请求</p>
<p>3、等待服务器响应</p>
<p>4、下载服务器响应内容</p>
<p>5、解析 HTML、CSS、JS</p>
<p>6、渲染 HTML、CSS、JS 和图片</p>
<p>7、响应用户事件</p>
<h5 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h5><p>域名解析是页面加载的第一步，那么域名是如何解析的呢？以Chrome为例：</p>
<blockquote>
<ol>
<li>Chrome浏览器 会首先搜索浏览器自身的DNS缓存（缓存时间比较短，大概只有1分钟，且只能容纳1000条缓存），看自身的缓存中是否有<a href="http://www.linux178.com" target="_blank" rel="noopener">www.linux178.com</a> 对应的条目，而且没有过期，如果有且没有过期则解析到此结束。<br>注：我们怎么查看Chrome自身的缓存？可以使用 chrome://net-internals/#dns 来进行查看</li>
<li>如果浏览器自身的缓存里面没有找到对应的条目，那么Chrome会搜索操作系统自身的DNS缓存,如果找到且没有过期则停止搜索解析到此结束.<br>注：怎么查看操作系统自身的DNS缓存，以Windows系统为例，可以在命令行下使用 ipconfig /displaydns 来进行查看 </li>
<li>如果在Windows系统的DNS缓存也没有找到，那么尝试读取hosts文件（位于C:\Windows\System32\drivers\etc），看看这里面有没有该域名对应的IP地址，如果有则解析成功。</li>
<li>如果在hosts文件中也没有找到对应的条目，浏览器就会发起一个DNS的系统调用，就会向本地配置的首选DNS服务器（一般是电信运营商提供的，也可以使用像Google提供的DNS服务器）发起域名解析请求（通过的是UDP协议向DNS的53端口发起请求，这个请求是递归的请求，也就是运营商的DNS服务器必须得提供给我们该域名的IP地址），运营商的DNS服务器首先查找自身的缓存，找到对应的条目，且没有过期，则解析成功。如果没有找到对应的条目，则有运营商的DNS代我们的浏览器发起迭代DNS解析请求，它首先是会找根域的DNS的IP地址（这个DNS服务器都内置13台根域的DNS的IP地址），找打根域的DNS地址，就会向其发起请求（请问<a href="http://www.linux178.com这个域名的IP地址是多少啊？），根域发现这是一个顶级域com域的一个域名，于是就告诉运营商的DNS我不知道这个域名的IP地址，但是我知道com域的IP地址，你去找它去，于是运营商的DNS就得到了com域的IP地址，又向com域的IP地址发起了请求（请问www.linux178.com这个域名的IP地址是多少?）,com域这台服务器告诉运营商的DNS我不知道www.linux178.com这个域名的IP地址，但是我知道linux178.com这个域的DNS地址，你去找它去，于是运营商的DNS又向linux178.com这个域名的DNS地址（这个一般就是由域名注册商提供的，像万网，新网等）发起请求（请问www.linux178.com这个域名的IP地址是多少？），这个时候linux178.com域的DNS服务器一查，诶，果真在我这里，于是就把找到的结果发送给运营商的DNS服务器，这个时候运营商的DNS服务器就拿到了www.linux178.com这个域名对应的IP地址，并返回给Windows系统内核，内核又把结果返回给浏览器，终于浏览器拿到了www.linux178.com对应的IP地址，该进行一步的动作了。" target="_blank" rel="noopener">www.linux178.com这个域名的IP地址是多少啊？），根域发现这是一个顶级域com域的一个域名，于是就告诉运营商的DNS我不知道这个域名的IP地址，但是我知道com域的IP地址，你去找它去，于是运营商的DNS就得到了com域的IP地址，又向com域的IP地址发起了请求（请问www.linux178.com这个域名的IP地址是多少?）,com域这台服务器告诉运营商的DNS我不知道www.linux178.com这个域名的IP地址，但是我知道linux178.com这个域的DNS地址，你去找它去，于是运营商的DNS又向linux178.com这个域名的DNS地址（这个一般就是由域名注册商提供的，像万网，新网等）发起请求（请问www.linux178.com这个域名的IP地址是多少？），这个时候linux178.com域的DNS服务器一查，诶，果真在我这里，于是就把找到的结果发送给运营商的DNS服务器，这个时候运营商的DNS服务器就拿到了www.linux178.com这个域名对应的IP地址，并返回给Windows系统内核，内核又把结果返回给浏览器，终于浏览器拿到了www.linux178.com对应的IP地址，该进行一步的动作了。</a></li>
</ol>
<p>注：一般情况下是不会进行以下步骤的</p>
<p>如果经过以上的4个步骤，还没有解析成功，那么会进行如下步骤：</p>
<ol>
<li>操作系统就会查找NetBIOS name Cache（NetBIOS名称缓存，就存在客户端电脑中的），那这个缓存有什么东西呢？凡是最近一段时间内和我成功通讯的计算机的计算机名和Ip地址，就都会存在这个缓存里面。什么情况下该步能解析成功呢？就是该名称正好是几分钟前和我成功通信过，那么这一步就可以成功解析。</li>
<li>如果第5步也没有成功，那会查询WINS 服务器（是NETBIOS名称和IP地址对应的服务器）</li>
<li>如果第6步也没有查询成功，那么客户端就要进行广播查找</li>
<li>如果第7步也没有成功，那么客户端就读取LMHOSTS文件（和HOSTS文件同一个目录下，写法也一样）</li>
</ol>
<p>如果第八步还没有解析成功，那么就宣告这次解析失败，那就无法跟目标计算机进行通信。只要这八步中有一步可以解析成功，那就可以成功和目标计算机进行通信。</p>
</blockquote>
<h5 id="页面渲染"><a href="#页面渲染" class="headerlink" title="页面渲染"></a>页面渲染</h5><p>在网页初步加载时，获取到HTML文件之后，最初的工作是构建DOM和构建CSSOM两个树，之后将他们合并形成渲染树，最后对其进行打印。我们可以通过图片来看一下，简单的过程：</p>
<p><img src="/2018/10/21/前端性能优化/65cb9084be1f3bc63562783920428926" alt="页面渲染"></p>
<h5 id="防抖和节流"><a href="#防抖和节流" class="headerlink" title="防抖和节流"></a>防抖和节流</h5><p><strong>函数防抖</strong>，当调用动作过n毫秒后，才会执行该动作，若在这n毫秒内又调用此动作则将重新计算执行时间；</p>
<p><strong>函数节流</strong>，预先设定一个执行周期，当调用动作的时刻大于等于执行周期则执行该动作，然后进入下一个新周期。</p>
<h2 id="推荐阅读"><a href="#推荐阅读" class="headerlink" title="推荐阅读"></a>推荐阅读</h2><hr>
<p><a href="https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&amp;mid=2651231287&amp;idx=1&amp;sn=54504bba21ecfd345348d25e23178f80&amp;chksm=bd494db38a3ec4a557d3b0e87a835794411065c17bbedc14569d3669266c92ce0774e9770437&amp;mpshare=1&amp;scene=23&amp;srcid=0320yEdWsIVbcmXQ6nYYzvlG#rd" target="_blank" rel="noopener">前端早读课 &gt; 前端优化体系</a></p>
<p><a href="https://juejin.im/post/59e1bbc9f265da430f311fb1" target="_blank" rel="noopener">前端性能优化常用总结</a></p>
<p> <strong>Javascript优化:</strong></p>
<ul>
<li><a href="https://link.zhihu.com/?target=http%3A//www.slideshare.net/nzakas/writing-efficient-javascript%2520/t%2520_blank" target="_blank" rel="noopener">Write Efficient Javascript(PPT)</a></li>
<li><a href="https://link.zhihu.com/?target=http%3A//dev.opera.com/articles/view/efficient-javascript/%2520/t%2520_blank" target="_blank" rel="noopener">Efficient JavaScript</a></li>
</ul>
<p><a href="https://juejin.im/post/59d489156fb9a00a571d6509" target="_blank" rel="noopener">浏览器渲染过程与性能优化</a></p>
<p> <a href="https://segmentfault.com/a/1190000012528392" target="_blank" rel="noopener">前端性能优化</a></p>
<p><a href="https://developer.yahoo.com/performance/rules.html?guccounter=1" target="_blank" rel="noopener">yahoo的优化原则</a></p>
<p> <a href="https://www.cnblogs.com/MarcoHan/p/5297798.html" target="_blank" rel="noopener">Web前端性能优化进阶——完结篇</a></p>

      
    </div>
    
    
    
    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
      
    </div>

    

    

    


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/前端/" rel="tag"><i class="fa fa-tag"></i> 前端</a>
          
            <a href="/tags/性能优化/" rel="tag"><i class="fa fa-tag"></i> 性能优化</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/20/css小技巧/" rel="next" title="CSS 样式 技巧">
                <i class="fa fa-chevron-left"></i> CSS 样式 技巧
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/11/22/canvas/" rel="prev" title="canvas">
                canvas <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/album.jpg" alt="Xiao Qi">
            
              <p class="site-author-name" itemprop="name">Xiao Qi</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/qiwang97" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:2396586732@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                推荐阅读
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.liaoxuefeng.com/" title="廖雪峰" target="_blank">廖雪峰</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.alloyteam.com/nav/" title="Web前端导航" target="_blank">Web前端导航</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前端优化技巧"><span class="nav-number">1.</span> <span class="nav-text">前端优化技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#页面级优化"><span class="nav-number">1.1.</span> <span class="nav-text">页面级优化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#减少-HTTP-请求数"><span class="nav-number">1.1.1.</span> <span class="nav-text">减少 HTTP 请求数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#从设计实现层面简化页面（如百度首页）"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">从设计实现层面简化页面（如百度首页）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#合理设置-HTTP缓存"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">合理设置 HTTP缓存</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#减少不必要的-HTTP跳转"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">减少不必要的 HTTP跳转</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#避免重复的资源请求"><span class="nav-number">1.1.1.4.</span> <span class="nav-text">避免重复的资源请求</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#资源合并与压缩"><span class="nav-number">1.1.1.5.</span> <span class="nav-text">资源合并与压缩</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CSS-Sprites"><span class="nav-number">1.1.1.6.</span> <span class="nav-text">CSS Sprites</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字体图标"><span class="nav-number">1.1.1.7.</span> <span class="nav-text">字体图标</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#将-CSS放在-HEAD中"><span class="nav-number">1.1.1.8.</span> <span class="nav-text">将 CSS放在 HEAD中</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Inline-Images"><span class="nav-number">1.1.1.9.</span> <span class="nav-text">Inline Images</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#图片懒加载"><span class="nav-number">1.1.1.10.</span> <span class="nav-text">图片懒加载</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#将外部脚本置底"><span class="nav-number">1.1.1.11.</span> <span class="nav-text">将外部脚本置底</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#脚本懒加载"><span class="nav-number">1.1.1.12.</span> <span class="nav-text">脚本懒加载</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#异步请求-Callback"><span class="nav-number">1.1.1.13.</span> <span class="nav-text">异步请求 Callback</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-CDN"><span class="nav-number">1.1.2.</span> <span class="nav-text">使用 CDN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#压缩组件"><span class="nav-number">1.1.3.</span> <span class="nav-text">压缩组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#减少DNS查找"><span class="nav-number">1.1.4.</span> <span class="nav-text">减少DNS查找</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代码级优化"><span class="nav-number">1.2.</span> <span class="nav-text">代码级优化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Javascript"><span class="nav-number">1.2.1.</span> <span class="nav-text">Javascript</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#减少回流和重绘"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">减少回流和重绘</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DOM"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">DOM</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#慎用-with"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">慎用 with</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#避免使用-eval和-Function"><span class="nav-number">1.2.1.4.</span> <span class="nav-text">避免使用 eval和 Function</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#减少作用域链查找"><span class="nav-number">1.2.1.5.</span> <span class="nav-text">减少作用域链查找</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#数据访问"><span class="nav-number">1.2.1.6.</span> <span class="nav-text">数据访问</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字符串拼接"><span class="nav-number">1.2.1.7.</span> <span class="nav-text">字符串拼接</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSS"><span class="nav-number">1.2.2.</span> <span class="nav-text">CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#细节"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">细节</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#css-选择符"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">css 选择符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#将样式表放在头部"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">将样式表放在头部</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#避免CSS表达式"><span class="nav-number">1.2.2.4.</span> <span class="nav-text">避免CSS表达式</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HTML"><span class="nav-number">1.2.3.</span> <span class="nav-text">HTML</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#资源压缩"><span class="nav-number">1.2.4.</span> <span class="nav-text">资源压缩</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#精简"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">精简</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#混淆"><span class="nav-number">1.2.4.2.</span> <span class="nav-text">混淆</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#图片压缩"><span class="nav-number">1.2.4.3.</span> <span class="nav-text">图片压缩</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移动端优化"><span class="nav-number">1.3.</span> <span class="nav-text">移动端优化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#一图了解"><span class="nav-number">1.3.1.</span> <span class="nav-text">一图了解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他优化"><span class="nav-number">1.3.2.</span> <span class="nav-text">其他优化</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他技巧"><span class="nav-number">1.4.</span> <span class="nav-text">其他技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#避免重定向"><span class="nav-number">1.4.0.1.</span> <span class="nav-text">避免重定向</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他知识点"><span class="nav-number">1.5.</span> <span class="nav-text">其他知识点</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#页面从发起请求到展示到用户大概流程"><span class="nav-number">1.5.0.1.</span> <span class="nav-text">页面从发起请求到展示到用户大概流程</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#域名解析"><span class="nav-number">1.5.0.2.</span> <span class="nav-text">域名解析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#页面渲染"><span class="nav-number">1.5.0.3.</span> <span class="nav-text">页面渲染</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#防抖和节流"><span class="nav-number">1.5.0.4.</span> <span class="nav-text">防抖和节流</span></a></li></ol></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#推荐阅读"><span class="nav-number">2.</span> <span class="nav-text">推荐阅读</span></a></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiao Qi</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




-->

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  



  
  









  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"live2d-widget-model-wanko"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"tagMode":false});</script></body>
</html>
